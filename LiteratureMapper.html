<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="chrome=1">
    <title>Maps by MicheleTobias</title>

    <link rel="stylesheet" href="stylesheets/styles.css">
    <link rel="stylesheet" href="stylesheets/pygment_trac.css">
    <script src="javascripts/scale.fix.js"></script>
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">

    <!--[if lt IE 9]>
    <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->



    </head>
  <body>
    <div class="wrapper">

    
    
    
    <header>
        <a href="http://micheletobias.github.io/maps"> <img src="images/Logo_Squares_500x488px.png" alt="Tobias Research Logo" style="float:left; padding: 10px; width:100px;height:100px" /> </a>
        <h1>Tobias Research</h1>
        <h1>Web Maps</h1>
        <p>Web maps related to Michele Tobias&#39; academic research on coastal plant communities.</p>
               
        <p class="view"><a href="https://github.com/MicheleTobias/maps">View the Project on GitHub <small>MicheleTobias/maps</small></a></p>
        <ul>
          <li><a href="https://github.com/MicheleTobias/maps">Project On <strong>GitHub</strong></a></li>
          <li><a href="https://sites.google.com/site/mtobiasresearch/">Research <strong>Website</strong></a></li>
        </ul>
      </header>

      
      
<section>
<h3>
<a id="rather-drive-stick" class="anchor" href="#rather-drive-stick" aria-hidden="true"><span class="octicon octicon-link"></span></a>Introduction</h3>
<img src="images/LiteratureMapper_IconBig.png" style="float:left; padding: 10px; width:100px; height:105px">
<p>Literature Mapper is a plugin for QGIS that inserts geoJSON geometry strings into an online Zotero database to facilitate the mapping of study site locations.  My <a hfref = "LiteratureMap.html">Literature Map</a> is an example of a map that has benefitted from this tool.  The locations stored in the database are displayed on the map canvas in virtual point and multipoint shapefiles on start up.</p>

<p><strong>Credits:</strong> Literature Mapper is developed by Michele Tobias and Alex Mandel.
</section>


<section>
<h3>
<a id="rather-drive-stick" class="anchor" href="#rather-drive-stick" aria-hidden="true"><span class="octicon octicon-link"></span></a>Documentation</h3>
<h4>Recommedations & Disclaimer</h4>
<p>Literature Mapper is an experimental plugin for QGIS 2.x and 3.x.  The developers of Literature Mapper make no guarantees that the program will function as intended.  Because the program may alter your database in unexpected ways, it is highly recommended that you back up your Zotero database before you alter it with Literature Mapper.
</p>

<h4>Download & Install</h4>
<p>Literature Mapper is available as an experimental plugin in the QGIS Manage & Install Plugins interface.  Once installed, you can find it on the Plugins Menu.</p>  
<p>Alternatively, you may download development versions of Literature Mapper at the <a href= "https://github.com/MicheleTobias/LiteratureMapper">GitHub repository for the project</a> and place it in your QGIS plugins folder.  When you start QGIS, it should be available on the Installed Plugins menu of the Manage and Install Plugins tool (find this in the Plugins Menu).</p>

<h4>Use</h4>

<h5>Start the Literature Mapper Plugin</h5>
<p>To start the Literatue Mapper Plugin, click on the LiteratureMapper option in the Plugins menu. Next, click the icon in your toolbar or find the Literature Mapper icon on the Plugins Menu.</p>
<img src="images/LiteratureMapper_IconLocation.png" style=" padding: 10px">

<h5>Interface 1: Access Keys</h5>
<p>Literature Mapper works with an online Zotero Database.  You can connect your local Zotero database to an online account.  You will need to find your user ID, the collection ID for the collection of citations you would like to use with Literature Mapper, and your API key.</p>
<img src="images/LiteratureMapper_KeysInterface.JPG" style=" padding: 10px">

<p> Your <strong>user ID</strong> and your <strong>API key</strong> can be found or created at <a href = "https://www.zotero.org/settings/keys">https://www.zotero.org/settings/keys</a>. The <strong>collection key</strong> can be found by navigating to the library in your online account (My Library tab --> click on the library name in the left navigation bar) and finding the alphanumeric character string at the end of the URL.</p>

<p>Enter each key into their respective text boxes - just the alphanumeric keys, no punctuation such as quotes - and click "ok".  The program will check the keys you entered with Zotero.  If the keys are recognized, the next window will open.  If there is any error, a message bar will show at the top of the map canvas window.  If you receive an error, check that you entered your keys correctly and check to see that Zotero's online system is functioning.  You do not need to be logged into your Zotero Online account for Literature Mapper to work, but checking to see that it is available can rule out an error caused by Zotero not being online.</p>


<h5>Interface 2: Enter Locations</h5>
<p>In the mapping interface, the table should be populated with information from the Zotero collection you entered earlier.  (You should not edit any column except the Geometry column.  In future updates, only the Geometry column will be editable.)  </p>
<img src="images/LiteratureMapper_TableInterface.JPG" style=" padding: 10px">

<h6>Add Point Locations</h6>
<p>To add a location to a record, click on the record you want to update.  Click the Point button in the table, then click its location on the map canvas.  You should see that the text in the Geometry column has been updated to look something like this: <code>{"type": "Point", "coordinates": [-140.504592652, 37.1942567162]}</code>.  Add locations to as many records as you would like.  </p>

<h6>Add Multipoint Locations</h6>
<p>Adding a multipoint is ideal for literature that has more than one point location associated with it, as is often the case with studies that compared multiple sampling locations.  To add a multipoint location to a record, click the record you want to update.  Next, click the Multipoint button in the table, then click the locations for this record on the map canvas.</p>

<h6>Saving</h6>
<p>When you are done, click the "Save to Zotero" button.  Because the only method of saving your work is by saving changes to Zotero, you may want to save frequently as you work.  Changes not saved to Zotero will not be saved in the case of a crash.  Saving may take several minutes if you have many records.  The program will alert you that it has finished saving with a banner at the top of the map canvas in the main QGIS window.</p>

<h5>Virtual Shapefiles</h5>
<p>On start up, the plugin will scan your Zotero database to look for locations you've previously entered.  When it finds them, it sorts the locations into either a point or multipoint virtual shapefile.  If you would like to keep these shapefiles, right click on the file in the Layers List, then select Save As.  Currently, the shapefiles don't update in real time as you edit, although this is on the list of future upgrades.  To referesh the shapefiles, you need to restart the plugin. </p>
<img src="images/LiteratureMapper_Shapefiles.JPG" style=" padding: 10px">

<h4>Planned Upgrades:</h4>
<ul>
<li>Automatic updating of the virtual shapefiles while editing.</li>
<li>Allow panning and zooming between the addition of points in a multipoint record.</li>
<li>Improve saving time.</li>
</ul>

<h4>Known Trouble Spots:</h4>
<p>Issues are tracked on the GitHub repository's <a href = "https://github.com/MicheleTobias/LiteratureMapper/issues">Issues tab</a>. Here are some known issues with Literature Mapper that may cause you some trouble. We're working on these and encourage you to file other issues on the issue tracker.
<ul>
<li>LiteratureMapper records coordinates in the units of your project's coordinate system at the time you mark them.  This means within your Zotero database, you can have points recorded in multiple projections if you don't plan ahead.  This will be fixed in future releases.</li>
<li>If you have text entered into the Extra field in your Zotero database, Literature Mapper will overwrite these because it uses the Extra field to store the geometries.  If you want to keep this information, you will need to move it to a different field (perhaps a Note) before you save anything with Literature Mapper.  Future versions of Zotero may make creating other fields (such as a geometry field) possible, but for now, we use the Extra field.</li>
<li>If the Title column has the name of your saved PDF instead of the actual name of the article, check to see if your database has attached documents.  In some cases, attached documents can cause the database to use the file name (such as FullText.pdf) instead of the article name you entered.  Remove them using your regular Zotero tools.</li>
<li>Version 0.3 (released 2018-11-15) fails on dates that are not four digit years (example: 2018 works but 2018-11-15 does not).</li>
<li>Version 0.3 fails when you have a pdf linked to a citation. This will be fixed in an upcoming release and is currently available in the development version on github.</li>
</ul>
  
<h4>Works Citing LiteratureMapper</h4>
<p id= "citation"> Goldstein et al. (2018), Literature-based latitudinal distribution and possible range shifts of two US east coast dune
grass species (Uniola paniculata and Ammophila breviligulata). PeerJ 6:e4932; DOI 10.7717/peerj.4932  https://peerj.com/articles/4932.pdf </p>

<h4>Recommended Citation</h4>
<p id = "citation">Tobias, M.M., and A.I. Mandel.  2015.  Literature Mapper.  QGIS Plugin.  https://github.com/MicheleTobias/LiteratureMapper/blob/master/literature_mapper.py </p>


</section>
    </div>
    <footer>
      <p>Project maintained by <a href="https://github.com/MicheleTobias">MicheleTobias</a></p>
      <p>Hosted on GitHub Pages &mdash; Theme by <a href="https://github.com/orderedlist">orderedlist</a></p>
    </footer>
    <!--[if !IE]><script>fixScale(document);</script><![endif]-->
              <script type="text/javascript">
            var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");
            document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));
          </script>
          <script type="text/javascript">
            try {
              var pageTracker = _gat._getTracker("UA-22600412-2");
            pageTracker._trackPageview();
            } catch(err) {}
          </script>

  </body>
</html>
