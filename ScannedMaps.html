
<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8">
    <link rel="stylesheet" href="stylesheets/styles.css">
    <link rel="stylesheet" href="stylesheets/pygment_trac.css">
    <script src="javascripts/scale.fix.js"></script>
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">

 <!--<link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/leaflet/0.7.3/leaflet.css" />-->
 <link rel="stylesheet" href="https://unpkg.com/leaflet@1.5.1/dist/leaflet.css" integrity="sha512-xwE/Az9zrjBIphAcBb3F6JVqxf46+CDLwfLMHloNu6KEQCAWi6HcDUbeOfBIptF7tcCzusKFjFw2yuvEpDL9wQ=="crossorigin=""/>
 <!--<script src="//cdnjs.cloudflare.com/ajax/libs/leaflet/0.7.3/leaflet.js"></script>-->
 <script src="https://unpkg.com/leaflet@1.5.1/dist/leaflet.js"
   integrity="sha512-GffPMF3RvMeYyc1LWMHtK8EbPv0iNZ8/oTtHPx9/cc2ILxQ+u905qIwdpULaqDkyBKgOaB57QTMg7ztg8Jm2Og=="
   crossorigin=""></script>
 //<script src="//cdnjs.cloudflare.com/ajax/libs/jquery/2.1.1/jquery.js"></script>
 <script src="//cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
 <script src="js/leaflet.groupedlayercontrol.js" type="text/javascript"></script>


<style>
#map1 { height: 600px; width: 600px; margin-right: 5px; }

#attribution {
  font: 12px/1.5 Lato, "Helvetica Neue", Helvetica, Arial, sans-serif;
  color: #555;}

td {
     text-align: left;
     font-weight: bold;
}

td {
     text-align: left;
}



</style>

<title>Digitized Map Demo</title>

</head>

<body>
<div class="wrapper">

<header>
    <a href="//micheletobias.github.io/maps"> <img src="images/Logo_Squares_500x488px.png" alt="Tobias Research Logo" style="float:left; padding: 10px; width:100px;height:100px" /> </a>
    <h1>Digitized Map</h1>
	<h1>Demo</h1>
    <p>Michele M. Tobias, PhD</p>
    <p>University of California, Davis</p>
    <p>mmtobias[at]ucdavis.edu</p>

    <p class="view"><a href="https://github.com/MicheleTobias/maps">View the Project on GitHub <small>MicheleTobias/maps</small></a></p>
        <ul>
          <li><a href="https://github.com/MicheleTobias/maps">Project On <strong>GitHub</strong></a></li>
          <li><a href="https://sites.google.com/site/mtobiasresearch/">Research <strong>Website</strong></a></li>
        </ul>

</header>
<section>
<p class = "view">
<div id="map1">

</div>
<!--</div> -->
</p>
</section>

<section>
<div id='maptable'>
<p>Click on a map name to zoom to that map.  Use the menu button in the upper right corner of the map to toggle maps and baselayers.  Call number links take you to the UC Davis Library catalog entry for that map.</p>
<table>
	<tr>
		<th>Map Name</th>
		<th>Region</th>
		<th>Year</th>
		<th>Call Number</th>	
	</tr>
	<tr>
		<td><div id = 'maplink_sacramento' class='maplink'><a href='javascript:void(0)'>County of Yolo, California Reclamation District No. 900</a></div></td>
		<td>Sacramento</td> 
		<td>1912</td>
		<td><a href="https://search.library.ucdavis.edu/permalink/f/t3kr8e/01UCD_ALMA21216601970003126">Map Collection Old Maps MAP G4363.Y6J4 1912 .M2 Drawer 1</a></td>
	</tr>
	<tr>
		<td><div id = 'maplink_grassvalley'><a href='javascript:void(0)'>Grass Valley Fire Districts</a></div></td>
		<td>Grass Valley</td> 
		<td>1908</td>
		<td><a href="https://search.library.ucdavis.edu/permalink/f/t3kr8e/01UCD_ALMA21201586560003126">Map Collection Old Maps MAP G4364.G72G475 1908 .M4 Drawer 1</a></td>
	</tr>
	<tr>
		<td><div id = 'maplink_sacramentovalley'><a href='javascript:void(0)'>Sacramento Valley of California</a></div></td>
		<td>CA Central Valley & Bay Area</td> 
		<td>1860</td>
		<td><a href="https://search.library.ucdavis.edu/permalink/f/t3kr8e/01UCD_ALMA21206308240003126">Map Collection Old Maps   MAP G4362.S33 1860 .M2 Drawer 1</a></td>
	</tr>

</table>
</div>
</section>

<section>
<h3>About This Map</h3>
<p>This is a proof-of-concept map showing how the UC Davis Library can use scanned maps in a geographical search interface.  This map shows a scanned maps that were georeferenced and overlaid on OpenStreetMap data.</p>

</section>

<script type="text/javascript">

var map1 = L.map('map1').setView([37.0, -119.5], 6);

// add background tiles
var osm = L.tileLayer('//{s}.tile.osm.org/{z}/{x}/{y}.png', {
attribution: '&amp; OpenStreetMap'}).addTo(map1);

var watercolor = L.tileLayer('//stamen-tiles-{s}.a.ssl.fastly.net/watercolor/{z}/{x}/{y}.png');

// add maps

var SacramentoValley1860 = L.imageOverlay('images/G4362S331860M2.jpg', [[37.0731171206903483, -123.1266493472013366], [41.1878390903074987, -119.2018079650788138]]).addTo(map1);

var Sacramento1912 = L.imageOverlay('images/G4363Y6J41912M2.jpg', [[38.4836176415186344, -121.6010610169879840], [38.6747912749419598, -121.2310588462640624]]).addTo(map1);

var GrassValley1908 = L.imageOverlay('images/G4364G72G4751908M4.jpg', [[39.2014474372660686, -121.0805523038835929], [39.2260468106941929, -121.0443229058778059]]).addTo(map1);



// make groups for the Layer Controls to work from
var baseMaps = {
	"OpenStreetMap": osm,
	"Watercolor": watercolor
};

var scannedMaps = {
	"Sacramento Valley 1860": SacramentoValley1860,
	"Sacramento 1912": Sacramento1912,
	"Grass Valley 1908": GrassValley1908
};

// add the Layer Controls = the layer selector 
L.control.layers(baseMaps, scannedMaps).addTo(map1);


// make links that zoom to the maps
// https://gis.stackexchange.com/questions/147052/leaflet-js-map-pan-too-and-zoom-in-on-point/147121

document.getElementById('maplink_sacramento').onclick = function(){map1.setView([38.58, -121.5], 11)};
document.getElementById('maplink_grassvalley').onclick = function(){map1.setView([39.21, -121.06], 14)};
document.getElementById('maplink_sacramentovalley').onclick = function(){map1.setView([39.0, -121.5], 7)};


//$('.maplink').on('click', function(){map1.panTo(L.latLng(0, 0))});
//$('.maplink').on('click', function(){
	//map1.setView([20, -118], 10)
	//});

// thing that seems to have answers: https://leafletjs.com/reference-1.5.0.html#pan-options


// example of using geojson to make the tables and points
// map: http://fulcrumapp.github.io/geojson-dashboard/
// github repo: https://github.com/fulcrumapp/geojson-dashboard


</script>


</body>
